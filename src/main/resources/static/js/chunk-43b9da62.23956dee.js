(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43b9da62"],{"81d5":function(t,e,a){"use strict";var s=a("7b0b"),i=a("23cb"),o=a("50c4");t.exports=function(t){var e=s(this),a=o(e.length),n=arguments.length,r=i(n>1?arguments[1]:void 0,a),l=n>2?arguments[2]:void 0,d=void 0===l?a:i(l,a);while(d>r)e[r++]=t;return e}},c18a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"row-lg-4 mb-3"},[a("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"관심 지역 주변 상권",breadcrumb:{props:{routes:t.routes}},"sub-title":"관심 지역 주변의 상권 정보를 확인할 수 있습니다."}})],1),a("div",{staticClass:"row-lg-4"},[a("div",{staticClass:"card kit__utils__cardMarked kit__utils__cardMarked--primary"},[a("div",{staticClass:"card-header"},[a("a-icon",{staticClass:"font-size-18 mr-2",attrs:{type:"search"}}),a("span",{staticClass:"text-dark font-size-18 font-weight-bold mb-0"},[t._v("나의 관심 지역 선택")])],1),a("div",{staticClass:"card-body"},[a("div",[a("table",{staticClass:"table table-hover"},[t._m(0),a("tbody",{attrs:{id:"areaTbody"}},t._l(t.userAreas,(function(e,s){return a("tr",{key:"item_"+s},[a("td",[t._v(t._s(e.city))]),a("td",[t._v(t._s(e.gu))]),a("td",[t._v(t._s(e.dong))]),a("td"),a("td"),a("td"),a("td",[a("a-button",{attrs:{shape:"circle",icon:"search"},on:{click:function(a){return t.searchStore(e.dongcode,e.dong)}}})],1)])})),0)])])])])])]),a("div",{staticClass:"col-lg-8"},[t.TOTAL_LIST_ITEM_COUNT>0?a("div",{staticClass:"card kit__utils__cardMarked kit__utils__cardMarked--primary"},[a("div",{staticClass:"card-header"},[a("a-icon",{staticClass:"font-size-18 mr-2",attrs:{type:"shop"}}),a("span",{staticClass:"text-dark font-size-18 font-weight-bold mb-0"},[t._v(t._s(this.currentDong.dong)+" 상권 정보")])],1),a("div",{staticClass:"card-body"},[a("div",[a("table",{staticClass:"table table-hover"},[t._m(1),a("tbody",{attrs:{id:"areaTbody"}},t._l(t.stores,(function(e,s){return a("tr",{key:"store"+s,staticStyle:{cursor:"pointer"},on:{click:function(a){return t.showDetailModal(e.no)}}},[a("td",{staticClass:"small"},[t._v(t._s(e.shopname))]),a("td",{staticClass:"small"},[t._v(t._s(e.codename4))]),a("td",{staticClass:"small"},[t._v(t._s(e.jibuaddress))])])})),0)]),a("div",{attrs:{id:"paginationWrapper"}},[a("ul",{staticClass:"pagination pagination justify-content-center"},[t.prev?a("li",{staticClass:"ant-pagination-prev"},[a("a",{staticClass:"ant-pagination-item-link",attrs:{"aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.movePage(t.startPageIndex-1)}}},[a("a-icon",{attrs:{type:"left"}})],1)]):t._e(),t._l(t.range(t.startPageIndex,t.endPageIndex),(function(e){return a("li",{key:"item_"+e,class:{"ant-pagination-item":!0,"`ant-pagination-item-${index}`":!0,"ant-pagination-item-active":e===t.CURRENT_PAGE_INDEX}},[a("a",{on:{click:function(a){return a.preventDefault(),t.movePage(e)}}},[t._v(t._s(e))])])})),t.next?a("li",{staticClass:"ant-pagination-next"},[a("a",{staticClass:"ant-pagination-item-link",attrs:{"aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.movePage(t.endPageIndex+1)}}},[a("a-icon",{attrs:{type:"right"}})],1)]):t._e()],2)])])])]):t._e()])]),a("store-detail-modal",{attrs:{isVisible:t.visible,storeNo:t.detailStoreNo},on:{"close-modal-event":function(e){return t.closeDetailModal()}}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("시 / 도")]),a("th",[t._v("군 / 구")]),a("th",[t._v("동")]),a("th"),a("th"),a("th"),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("가게이름")]),a("th",[t._v("업종정보")]),a("th",[t._v("가게위치")])])])}],o=(a("99af"),a("cb29"),a("d81d"),a("c21c")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"상세 정보",footer:null,width:"800px"},model:{value:t.isThisVisble,callback:function(e){t.isThisVisble=e},expression:"isThisVisble"}},[a("a-descriptions",{attrs:{size:"small",bordered:"",column:t.colSize}},[a("a-descriptions-item",{attrs:{label:"등록 번호",span:3}},[t._v(" "+t._s(t.storeInfo.no)+" ")]),a("a-descriptions-item",{attrs:{label:"상호명",span:2}},[a("strong",[t._v(t._s(t.storeInfo.shopName))])]),a("a-descriptions-item",{attrs:{label:"지점명"}},[t._v(" "+t._s(t.storeInfo.localName)+" ")]),a("a-descriptions-item",{attrs:{label:"대분류"}},[t._v(" "+t._s(t.storeInfo.largeCategory)+" ")]),a("a-descriptions-item",{attrs:{label:"중분류"}},[t._v(" "+t._s(t.storeInfo.mediumCategory)+" ")]),a("a-descriptions-item",{attrs:{label:"소분류"}},[t._v(" "+t._s(t.storeInfo.smallCategory)+" ")]),a("a-descriptions-item",{attrs:{label:"도로명 주소",span:3}},[t._v(" "+t._s(t.storeInfo.newAddress)+" ")]),a("a-descriptions-item",{attrs:{label:"지번 주소",span:3}},[t._v(" "+t._s(t.storeInfo.oldAddress)+" ")]),a("a-descriptions-item",{attrs:{label:"신 우편번호"}},[t._v(" "+t._s(t.storeInfo.newPostCode)+" ")]),a("a-descriptions-item",{attrs:{label:"구 우편번호"}},[t._v(" "+t._s(t.storeInfo.oldPostCode)+" ")]),a("a-descriptions-item",{attrs:{label:"위경도"}},[t._v(" "+t._s(t.storeInfo.lat)+","),a("br"),t._v(" "+t._s(t.storeInfo.lng)+" ")])],1),a("div",{staticStyle:{padding:"10px"}},[a("naver-maps",{attrs:{height:t.height,width:t.width,mapOptions:t.mapOptions,initLayers:t.initLayers},on:{load:t.onLoad}},[a("naver-marker",{attrs:{lat:37,lng:127},on:{load:t.onMarkerLoaded}})],1)],1),a("div",{staticStyle:{"padding-left":"10px"}},[t._v("Naver Map API")])],1)},r=[],l=(a("ac1f"),a("5319"),{name:"storeDetailModal",components:{},props:["isVisible","storeNo"],data:function(){return{colSize:3,storeInfo:{},width:730,height:400,info:!1,marker:null,map:null,mapOptions:{lat:37,lng:127,zoom:15,zoomControl:!1,mapTypeControl:!0},initLayers:["BACKGROUND","BACKGROUND_DETAIL","POI_KOREAN","TRANSIT"]}},created:function(){},computed:{isThisVisble:{get:function(){return this.isVisible},set:function(t){!1===t&&this.$emit("close-modal-event")}},hello:function(){return"Hello, World!"}},watch:{storeNo:function(t,e){-1!==t&&this.updateDetail(t)}},methods:{updateDetail:function(t){var e=this;o["a"].get("/stores/".concat(t)).then((function(t){var a=t.data;e.storeInfo={no:a.no,shopName:a.shopname,localName:a.localname,largeCategory:a.codename1,mediumCategory:a.codename2,smallCategory:a.codename3,newAddress:a.address,oldAddress:a.jibuaddress,newPostCode:a.postcode,oldPostCode:a.oldpostcode,lat:parseFloat(a.lat.replace(/"/g,"")),lng:parseFloat(a.lng.replace(/"/g,""))},e.updateMapStatus()})).catch((function(t){console.log(t),e.$notification.error({message:"불러오기 실패",description:"상점 상세 정보를 불러오는 도중에 문제가 발생하였습니다."}),e.$emit("close-modal-event")}))},onLoad:function(t){console.log("onLoad!!"),console.log(this.mapOptions),this.map=t},onWindowLoad:function(t){console.log("onWindowLoad !!")},onMarkerLoaded:function(t){this.marker=t.marker,this.marker.setDraggable(!1)},updateMapStatus:function(){this.map.setCenter(this.storeInfo.lat,this.storeInfo.lng),this.marker.setPosition(this.storeInfo.lat,this.storeInfo.lng),this.map.setZoom(16,!0),this.map.setZoom(17,!0)}}}),d=l,c=a("2877"),h=Object(c["a"])(d,n,r,!1,null,"b57f51b8",null),_=h.exports,u={name:"interestareaStores",components:{StoreDetailModal:_},data:function(){return{uid:"ssafy",userAreas:[],stores:[],currentDong:{dongCode:"",dong:""},LIST_ROW_COUNT:10,OFFSET:0,PAGE_LINK_COUNT:10,TOTAL_LIST_ITEM_COUNT:0,CURRENT_PAGE_INDEX:1,next:!1,pageCount:0,startPageIndex:0,endPageIndex:0,prev:!1,routes:[{path:"",breadcrumbName:"Home"},{path:"",breadcrumbName:"관심 지역"},{path:"",breadcrumbName:"관심 지역 주변 상권"}],visible:!1,detailModalTitle:"",detailStoreNo:-1}},created:function(){var t=this;this.updateUserAreas(),o["a"].get("/areas/sido").then((function(e){var a=e.data;t.sidos=a}))},computed:{},methods:{updateUserAreas:function(){var t=this;o["a"].get("/areas/interest/".concat(this.uid)).then((function(e){var a=e.data;t.userAreas=a}))},registerArea:function(){var t=this;"0"!==this.currentDong?o["a"].post("/areas/interest",{uid:this.uid,dongcode:this.currentDong.dongCode,dong:this.currentDong.dong}).then((function(e){var a=e.data;console.log(a),1===a?(alert("등록되었습니다."),t.updateUserAreas()):alert("등록 중 문제가 발생하였습니다.")})).catch((function(t){console.log(t),alert("등록 중 문제가 발생하였습니다.")})):alert("지역을 선택해주세요!")},searchStore:function(t,e){this.currentDong.dongCode=t,this.currentDong.dong=e,this.storeList()},storeList:function(){var t=this;o["a"].get("/stores/".concat(this.currentDong.dongCode,"/").concat(this.OFFSET,"/").concat(this.LIST_ROW_COUNT)).then((function(e){var a=e.data;t.stores=a,t.storeListTotalCnt()}))},storeListTotalCnt:function(){var t=this;o["a"].get("/stores/count/".concat(this.currentDong.dongCode)).then((function(e){var a=e.data;t.TOTAL_LIST_ITEM_COUNT=a,t.addPagination()})).catch((function(t){console.log(t),alert("Opps!! 글 전체 갯수 조회 과정에 문제가 생겼습니다.")}))},addPagination:function(){this.pageCount=Math.ceil(this.TOTAL_LIST_ITEM_COUNT/this.LIST_ROW_COUNT),this.startPageIndex=0,this.CURRENT_PAGE_INDEX%this.PAGE_LINK_COUNT===0?this.startPageIndex=(this.CURRENT_PAGE_INDEX/this.PAGE_LINK_COUNT-1)*this.PAGE_LINK_COUNT+1:this.startPageIndex=Math.floor(this.CURRENT_PAGE_INDEX/this.PAGE_LINK_COUNT)*this.PAGE_LINK_COUNT+1,this.endPageIndex=0,this.CURRENT_PAGE_INDEX%this.PAGE_LINK_COUNT===0?this.endPageIndex=(this.CURRENT_PAGE_INDEX/this.PAGE_LINK_COUNT-1)*this.PAGE_LINK_COUNT+this.PAGE_LINK_COUNT:this.endPageIndex=Math.floor(this.CURRENT_PAGE_INDEX/this.PAGE_LINK_COUNT)*this.PAGE_LINK_COUNT+this.PAGE_LINK_COUNT,this.prev=this.CURRENT_PAGE_INDEX>this.PAGE_LINK_COUNT,this.endPageIndex>this.pageCount?(this.endPageIndex=this.pageCount,this.next=!1):this.next=!0},movePage:function(t){this.OFFSET=(t-1)*this.LIST_ROW_COUNT,this.CURRENT_PAGE_INDEX=t,this.storeList()},range:function(t,e){return Array(e-t+1).fill().map((function(e,a){return t+a}))},showDetailModal:function(t){this.detailStoreNo=t,this.visible=!0},closeDetailModal:function(){this.visible=!1}}},p=u,g=Object(c["a"])(p,s,i,!1,null,null,null);e["default"]=g.exports},cb29:function(t,e,a){var s=a("23e7"),i=a("81d5"),o=a("44d2");s({target:"Array",proto:!0},{fill:i}),o("fill")}}]);
//# sourceMappingURL=chunk-43b9da62.23956dee.js.map