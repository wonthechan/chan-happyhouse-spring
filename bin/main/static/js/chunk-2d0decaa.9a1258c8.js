(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0decaa"],{"86c9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"mb-3"},[a("span",{staticClass:"font-size-30 font-weight-bold"},[t._v(t._s(t.qnaTitle))])]),a("hr"),a("div",{staticClass:"mb-5"},[a("span",{staticClass:"mr-3"},[a("a-icon",{staticClass:"mr-1",attrs:{type:"clock-circle",theme:"filled"}}),t._v(" "+t._s(t.qnaDate)+" ")],1),a("span",{staticClass:"mr-3"},[t._v("|")]),a("span",{staticClass:"font-weight-bold"},[a("a-icon",{staticClass:"mr-1",attrs:{type:"user"}}),t._v(" "+t._s(t.qnaWriter)+" ")],1)]),a("div",{domProps:{innerHTML:t._s(t.qnaContent)}})])]),a("div",{staticClass:"mb-4"},[a("a-button",{staticClass:"mr-3",attrs:{icon:"left"},on:{click:function(e){return t.moveToListPage()}}},[t._v("목록으로 돌아가기")]),t.$store.state.user.id===t.qnaWriter?[a("a-button",{staticClass:"mr-3",attrs:{icon:"edit"},on:{click:function(e){return t.moveToUpdatePage()}}},[t._v("수정하기")]),a("a-button",{attrs:{type:"danger",icon:"delete"},on:{click:function(e){return t.showDeleteConfirm()}}},[t._v("삭제하기")])]:t._e()],2),a("comment-list",{key:t.componentKey,attrs:{boardNo:t.$route.params.id},on:{"update-comment-event":function(e){return t.updateComments()}}}),t.isKakaoUser?[t._v(" 카카오 유저인 경우 댓글 기능을 이용할 수 없습니다. ")]:[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"text-dark mb-4"},[t._v("댓글 남기기")]),a("a-form",{attrs:{form:t.form},on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[a("a-form-item",[a("a-input",{attrs:{placeholder:t.$store.state.user.id,disabled:!0}},[a("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),a("a-form-item",[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["commentContent",{rules:[{required:!0,message:"내용을 입력하세요!"}]}],expression:"['commentContent', {rules: [{ required: true, message: '내용을 입력하세요!' }]}]"}],attrs:{rows:3,placeholder:"내용"}})],1),a("a-form-item",[a("button",{staticClass:"btn btn-success btn-with-addon text-nowrap",attrs:{type:"submit"}},[a("span",{staticClass:"btn-addon"},[a("i",{staticClass:"btn-addon-icon fe fe-plus-circle"})]),t._v(" 등록 ")])])],1)],1)])]],2)},n=[],i=a("c21c"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h6",{staticClass:"mb-4 text-uppercase"},[a("strong",[t._v("전체 댓글 "+t._s(this.comments.length)+"개")])]),t._l(t.comments,(function(e,s){return[a("div",{key:"comment_"+s,staticClass:"d-flex fl ex-nowrap align-items-start pt-4"},[t._m(0,!0),a("div",{staticClass:"flex-grow-1"},[a("div",{staticClass:"border-bottom"},[a("div",{staticClass:"d-flex flex-wrap mb-2"},[a("div",{staticClass:"mr-auto"},[a("div",{staticClass:"text-gray-6"},[a("span",{staticClass:"text-dark font-weight-bold"},[t._v(t._s(e.uid))]),t._v(" posted ")]),a("div",[t._v(t._s(e.date))])]),e.uid===t.$store.state.user.id?a("div",[a("a-icon",{attrs:{type:"delete"},on:{click:function(a){return t.removeComment(e.cid)}}})],1):t._e()]),a("div",{staticClass:"mb-3"},[t._v(" "+t._s(e.content)+" ")])])])])]}))],2)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mr-4 flex-shrink-0 align-self-start kit__utils__avatar kit__utils__avatar--size64"},[s("img",{attrs:{src:a("da80"),alt:"avatar2"}})])}],c=(a("99af"),a("d81d"),{name:"commentList",props:["boardNo"],data:function(){return{comments:[]}},created:function(){var t=this;i["a"].get("/vue/api/qnas/".concat(this.boardNo,"/comments")).then((function(e){var a=e.data;a.map((function(e){t.comments.push({cid:e.cid,uid:e.uid,content:e.content,date:e.regdt})}))})).catch((function(e){t.$notification.error({message:"불러오기 실패",description:"코멘트 리스트를 불러오는 도중에 문제가 발생하였습니다."})}))},methods:{removeComment:function(t){var e=this;i["a"].delete("/vue/api/qnas/".concat(this.boardNo,"/comments/").concat(t)).then((function(t){var a=t.data;"success"===a?(e.$notification.success({message:"삭제 성공!",description:"댓글이 정상적으로 삭제되었습니다."}),e.$emit("update-comment-event")):e.$notification.error({message:"삭제 실패",description:"삭제 도중에 문제가 발생하였습니다."})})).catch((function(t){e.$notification.error({message:"삭제 실패",description:"삭제 도중에 문제가 발생하였습니다."})}))}}}),d=c,m=a("2877"),u=Object(m["a"])(d,o,r,!1,null,null,null),l=u.exports,f={name:"qnaDetail",components:{CommentList:l},computed:{isKakaoUser:function(){return"kakao"===this.$store.state.settings.authProvider}},data:function(){return{qnaTitle:"",qnaContent:"",qnaDate:"",qnaWriter:"",qnaId:-1,form:this.$form.createForm(this),componentKey:1}},created:function(){var t=this;i["a"].get("/vue/api/qnas/".concat(this.$route.params.id)).then((function(e){var a=e.data;t.qnaId=a.no,t.qnaTitle=a.title,t.qnaWriter=a.uid,t.qnaContent=a.content,t.qnaDate=a.regdt})).catch((function(e){t.$notification.error({message:"불러오기 실패",description:"게시글 정보를 불러오는 도중에 문제가 발생하였습니다."}),t.moveToListPage()}))},methods:{moveToListPage:function(){this.$router.push("/help/qnas/list")},moveToUpdatePage:function(){this.$router.push("/help/qnas/update/".concat(this.qnaId))},deleteNotice:function(){var t=this;i["a"].delete("/vue/api/qnas/".concat(this.$route.params.id)).then((function(e){var a=e.data;"success"===a?t.$notification.success({message:"삭제 성공!",description:"공지사항이 정상적으로 삭제되었습니다."}):t.$notification.error({message:"삭제 실패",description:"삭제 도중에 문제가 발생하였습니다."}),t.moveToListPage()})).catch((function(e){t.$notification.error({message:"삭제 실패",description:"삭제 도중에 문제가 발생하였습니다."}),t.moveToListPage()}))},showDeleteConfirm:function(){var t=this;this.$confirm({title:"정말로 삭제하시겠습니까?",content:"삭제된 게시글은 복구할 수 없습니다.",okText:"삭제",okType:"danger",cancelText:"취소",onOk:function(){t.deleteNotice()},onCancel:function(){}})},handleSubmit:function(){var t=this;this.form.validateFields((function(e,a){e||t.registerComment(a.commentContent)}))},registerComment:function(t){var e=this;i["a"].post("/vue/api/qnas/".concat(this.$route.params.id,"/comments"),{bid:this.$route.params.id,uid:this.$store.state.user.id,content:t}).then((function(t){var a=t.data;"success"===a?(e.$notification.success({message:"등록 성공!",description:"정상적으로 등록되었습니다."}),e.updateComments(),e.form.resetFields()):e.$notification.error({message:"등록 실패",description:"등록 도중에 문제가 발생하였습니다."})})).catch((function(t){console.log(t),e.$notification.error({message:"등록 실패",description:"등록 도중에 문제가 발생하였습니다."})}))},updateComments:function(){this.componentKey+=1}}},p=f,v=Object(m["a"])(p,s,n,!1,null,"dcebe982",null);e["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0decaa.9a1258c8.js.map